!function(o,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("tinycolor2")):"function"==typeof define&&define.amd?define(["tinycolor2"],t):o.AngularjsColorPicker=t(o.tinycolor)}(this,function(h){"use strict";h=h&&h.hasOwnProperty("default")?h.default:h;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(o){return this._invoke("next",o)},o.prototype.throw=function(o){return this._invoke("throw",o)},o.prototype.return=function(o){return this._invoke("return",o)};function c(o){this.value=o}function o(n){var r,s;function l(o,t){try{var e=n[o](t),i=e.value;i instanceof c?Promise.resolve(i.value).then(function(o){l("next",o)},function(o){l("throw",o)}):a(e.done?"return":"normal",e.value)}catch(o){a("throw",o)}}function a(o,t){switch(o){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?l(r.key,r.arg):s=null}this._invoke=function(e,i){return new Promise(function(o,t){o={key:e,arg:i,resolve:o,reject:t,next:null};s?s=s.next=o:(r=s=o,l(e,i))})},"function"!=typeof n.return&&(this.return=void 0)}function r(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function n(o,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}(function(o,t,e){t&&n(o.prototype,t),e&&n(o,e)})(s,[{key:"init",value:function(){this.$scope.control[0].$options&&this.$scope.control[0].$options.$$options&&(this.ngModelOptions=this.$scope.control[0].$options.$$options),this.chrome=Boolean(window.chrome);var o=window.navigator.userAgent.match(/Android\s([0-9\.]*)/i);this.android_version=o&&1<o.length?parseFloat(o[1]):NaN,this.updateModel=!0,this.initWatchers(),this.initConfig(),this.initMouseEvents()}},{key:"initConfig",value:function(){this.options||(this.options={}),this.mergeOptions(this.options,this.ColorPickerOptions),this.is_open=this.options.inline,this.options.inline&&(this.options.close.show=!1),this.pickerDimensions={width:150,height:150},this.sliderDimensions={width:this.options.horizontal?this.pickerDimensions.width:20,height:this.options.horizontal?20:this.pickerDimensions.height}}},{key:"mergeOptions",value:function(o,t){for(var e in t)t.hasOwnProperty(e)&&(o&&o.hasOwnProperty(e)?"object"===i(t[e])&&this.mergeOptions(o[e],t[e]):o[e]=t[e])}},{key:"initWatchers",value:function(){var t=this;this.$scope.$watch("AngularColorPickerController.ngModel",this.watchNgModel.bind(this)),this.$scope.$watch("AngularColorPickerController.options.swatchPos",function(o){void 0!==o&&(t.initConfig(),t.$timeout(function(){t.updateSwatchBackground()}))}),this.$scope.$watchGroup(["AngularColorPickerController.options.format","AngularColorPickerController.options.alpha","AngularColorPickerController.options.case","AngularColorPickerController.options.round","AngularColorPickerController.options.restrictToFormat","AngularColorPickerController.options.preserveInputFormat","AngularColorPickerController.options.allowEmpty","AngularColorPickerController.options.horizontal","AngularColorPickerController.options.dynamicHue","AngularColorPickerController.options.dynamicSaturation","AngularColorPickerController.options.dynamicLightness","AngularColorPickerController.options.dynamicAlpha"],function(o){void 0!==o&&(t.initConfig(),t.update())}),this.$scope.$watchGroup(["AngularColorPickerController.pickerDisabled","AngularColorPickerController.options.swatchBootstrap","AngularColorPickerController.options.swatchOnly","AngularColorPickerController.options.swatch","AngularColorPickerController.options.pos","AngularColorPickerController.options.inline","AngularColorPickerController.options.placeholder"],function(o){void 0!==o&&t.initConfig()}),this.$scope.$watch("AngularColorPickerController.api",this.setupApi.bind(this)),this.$scope.$watch("AngularColorPickerController.swatchColor",this.updateSwatchBackground.bind(this)),this.$scope.$watch("AngularColorPickerController.hue",function(){t.valueUpdate("hue")}),this.$scope.$watch("AngularColorPickerController.saturation",function(){t.valueUpdate("saturation")}),this.$scope.$watch("AngularColorPickerController.lightness",function(){t.valueUpdate("lightness")}),this.$scope.$watch("AngularColorPickerController.opacity",function(){t.valueUpdate("opacity")})}},{key:"onInternalNgModelChange",value:function(o){this.colorMouse||this.watchNgModelSet(this.internalNgModel,!0)}},{key:"watchNgModel",value:function(o,t){void 0===o||this.hasOwnProperty("initialNgModel")||(this.initialNgModel=o),this.checkDirty(o),this.internalNgModel=this.ngModelOptions.getterSetter?this.ngModel():this.ngModel,this.colorMouse||this.watchNgModelSet(o,!1)}},{key:"watchNgModelSet",value:function(o,t){var e,i;null!=o?(e=h(o),(i=this.isColorValid(e))&&(this.setColorValue(e),t)&&(this.update(),this.onChange()),this.$scope.control[0].$setValidity("color",i)):(null!==o&&""!==o||(this.hue=0,this.saturation=void 0,this.lightness=void 0,this.opacity=void 0),this.swatchColor="")}},{key:"initMouseEvents",value:function(){var t=this,o={mouseDown:this.onMouseDown.bind(this),mouseUp:this.onMouseUp.bind(this),mouseMove:this.onMouseMove.bind(this),keyUp:this.onKeyUp.bind(this)};this.$document.on("mousedown",o.mouseDown),this.$document.on("mouseup",o.mouseUp),this.$document.on("mousemove",o.mouseMove),this.$document.on("touchstart",o.mouseDown),this.$document.on("touchend",o.mouseUp),this.$document.on("touchmove",o.mouseMove),this.$document.on("keyup",o.keyUp),this.find(".color-picker-grid").on("click",function(o){t.onClick("color",o)}),this.find(".color-picker-grid").on("touchend",function(o){t.onClick("color",o)}),this.find(".color-picker-hue").on("click",function(o){t.onClick("hue",o)}),this.find(".color-picker-hue").on("touchend",function(o){t.onClick("hue",o)}),this.find(".color-picker-saturation").on("click",function(o){t.onClick("saturation",o)}),this.find(".color-picker-saturation").on("touchend",function(o){t.onClick("saturation",o)}),this.find(".color-picker-lightness").on("click",function(o){t.onClick("lightness",o)}),this.find(".color-picker-lightness").on("touchend",function(o){t.onClick("lightness",o)}),this.find(".color-picker-opacity").on("click",function(o){t.onClick("opacity",o)}),this.find(".color-picker-opacity").on("touchend",function(o){t.onClick("opacity",o)}),this.find(".color-picker-input").on("focusin",this.onFocus.bind(this)),this.find(".color-picker-input").on("focusout",this.onBlur.bind(this)),this.$scope.$on("$destroy",function(){t.$document.off("mousedown",o.mouseDown),t.$document.off("mouseup",o.mouseUp),t.$document.off("mousemove",o.mouseMove),t.$document.off("touchstart",o.mouseDown),t.$document.off("touchend",o.mouseUp),t.$document.off("touchmove",o.mouseMove),t.$document.off("keyup",o.keyUp),t.eventApiDispatch("onDestroy")})}},{key:"onMouseDown",value:function(o){if(this.has_moused_moved=!1,this.pickerDisabled||0===this.find(o.target).length)return!0;for(var t=0;t<this.fullEventTypes.length;t++)this.onMouseDownType(this.fullEventTypes[t],o)}},{key:"onMouseDownType",value:function(o,t){("color"===o&&(t.target.classList.contains("color-picker-grid-inner")||t.target.classList.contains("color-picker-picker")||t.target.parentNode.classList.contains("color-picker-picker"))||t.target.classList.contains("color-picker-"+o)||t.target.parentNode.classList.contains("color-picker-"+o))&&this.mouseEventToggle(o,!1,t)}},{key:"onMouseUp",value:function(o){if(this.anyMouseEvents()||0!==this.find(o.target).length)for(var t=0;t<this.fullEventTypes.length;t++)this.onMouseUpType(this.fullEventTypes[t],o);else this.setupApi(),this.options.hide.click&&this.api.close(o),this.$scope.$apply()}},{key:"onMouseUpType",value:function(o,t){this[o+"Mouse"]&&this.has_moused_moved&&(this.mouseEventToggle(o,!0,t),this.onChange(t))}},{key:"onMouseMove",value:function(o){for(var t=0;t<this.fullEventTypes.length;t++)this.onMouseMoveType(this.fullEventTypes[t],o)}},{key:"onMouseMoveType",value:function(o,t){this[o+"Mouse"]&&(this.has_moused_moved=!0,this.valueChange(o,t),this.$scope.$apply())}},{key:"onKeyUp",value:function(o){this.options.hide.escape&&27===o.keyCode&&this.api.close(o)}},{key:"onClick",value:function(o,t){this.pickerDisabled||this.has_moused_moved||(this.valueChange(o,t),this.mouseEventToggle(o,!0,t),this.onChange(t))}},{key:"onChange",value:function(o){this.internalNgModel!==this.onChangeValue&&(this.onChangeValue=this.internalNgModel,this.eventApiDispatch("onChange",{event:o}))}},{key:"onBlur",value:function(o){this.internalNgModel===this.onChangeValue&&this.internalNgModel===this.ngModel||(this.updateModel=!0,this.update()),this.$scope.control[0].$setTouched(),this.eventApiDispatch("onBlur",{event:o}),this.options.hide.blur&&0===this.find(o.relatedTarget).length&&this.api.close(o)}},{key:"onSwatchClick",value:function(o){this.options.show.swatch&&!this.pickerDisabled&&this.api.open(o)}},{key:"onFocus",value:function(o){this.options.show.focus&&this.api.open(o)}},{key:"setupApi",value:function(){var e=this;this.api||(this.api={}),this.api.open=function(o){if(e.is_open)return!0;e.is_open=!0,e.hueMouse=!1,e.opacityMouse=!1,e.colorMouse=!1,e.$scope.$applyAsync();for(var t=0;t<e.basicEventTypes.length;t++)e.valueUpdate(e.basicEventTypes[t]);e.eventApiDispatch("onOpen",{event:o})},this.api.close=function(o){e.options.inline||!e.is_open&&null===e.$element[0].querySelector(".color-picker-panel").offsetParent||(e.is_open=!1,e.$scope.$applyAsync(),e.update(),e.eventApiDispatch("onClose",{event:o}))},this.api.clear=function(o){e.setNgModel(null),e.eventApiDispatch("onClear",{event:o})},this.api.reset=function(o){e.internalNgModel!==e.initialNgModel&&(e.setNgModel(e.initialNgModel),e.onChange(),e.eventApiDispatch("onReset",{event:o}))},this.api.getElement=function(){return e.$element},this.api.getScope=function(){return e.$scope}}},{key:"setNgModel",value:function(o){this.internalNgModel=o,this.ngModelOptions.getterSetter?this.ngModel(o):this.ngModel=o}},{key:"update",value:function(){if(!this.areAllValuesSet())return!1;var o=h(this.getColorValue()),t=(this.swatchColor=o.toHslString(),this.updateGridBackground(o),this.updateHueBackground(o),this.huePosUpdate(),this.updateSaturationBackground(o),this.saturationPosUpdate(),this.updateLightnessBackground(o),this.lightnessPosUpdate(),this.updateOpacityBackground(o),this.opacityPosUpdate(),this.options.preserveInputFormat&&h(this.internalNgModel).toHsvString()===o.toHsvString());this.updateModel&&!t&&(t=o[{rgb:"toRgbString",hex:"toHex",hex8:"toHex8",hexstring:"toHexString",hex8string:"toHex8String",hsv:"toHsvString",hsl:"toHslString",raw:"clone"}[this.options.format.toLowerCase()]](),this.options.format.match(/hex/i)&&(t="upper"===this.options.case?t.toUpperCase():t.toLowerCase()),this.setNgModel(t))}},{key:"mouseEventToggle",value:function(o,t,e){this.stopEvent(e),this[o+"Mouse"]=!t,this.$scope.$apply()}},{key:"valueChange",value:function(o,t){if(this.stopEvent(t),"color"===o)return this.colorChange(t);var e=this.find(".color-picker-"+o),t=this.getEventPos(t),i=this.getMaxFromType(o);this[o]=this.calculateSliderPos(e,t,i),this[o]>i?this[o]=i:this[o]<0&&(this[o]=0)}},{key:"valueUpdate",value:function(o){var t;void 0!==this[o]&&("saturation"===o?this[o+"Pos"]=this[o]:(t=this.getMaxFromType(o),this[o+"Pos"]=100*(1-this[o]/t)),this[o+"Pos"]<0?this[o+"Pos"]=0:100<this[o+"Pos"]&&(this[o+"Pos"]=100),this.options.round&&(this.getRoundPos(),this.updateRoundPos()),this[o+"PosUpdate"](),this.update())}},{key:"huePosUpdate",value:function(){var o=angular.element(this.$element[0].querySelector(".color-picker-hue .color-picker-slider"));this.options.horizontal?o.css({left:this.sliderDimensions.width*this.huePos/100+"px",top:0}):o.css({left:0,top:this.sliderDimensions.height*this.huePos/100+"px"})}},{key:"updateHueBackground",value:function(o){var t=this.find(".color-picker-hue .color-picker-overlay"),e=this.options.horizontal?"left":"top",i=this.getColorValue(this.options.dynamicHue),n=this.getColorValue(this.options.dynamicHue),r=this.getColorValue(this.options.dynamicHue),s=this.getColorValue(this.options.dynamicHue),l=this.getColorValue(this.options.dynamicHue),a=this.getColorValue(this.options.dynamicHue),c=this.getColorValue(this.options.dynamicHue);i.h=0,n.h=60,r.h=120,s.h=180,l.h=240,a.h=300,c.h=359,t.css({background:"linear-gradient(to "+e+", "+h(i).toRgbString()+" 0%, "+h(n).toRgbString()+" 17%, "+h(r).toRgbString()+" 33%, "+h(s).toRgbString()+" 50%, "+h(l).toRgbString()+" 67%, "+h(a).toRgbString()+" 83%, "+h(c).toRgbString()+" 100%)"})}},{key:"saturationPosUpdate",value:function(){var o;this.options.round||(o=angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker"))).css({left:this.pickerDimensions.height*this.saturationPos/100+"px"}),o=angular.element(this.$element[0].querySelector(".color-picker-saturation .color-picker-slider")),this.options.horizontal?o.css({left:this.sliderDimensions.width*(100-this.saturationPos)/100+"px",top:0}):o.css({left:0,top:this.sliderDimensions.height*(100-this.saturationPos)/100+"px"})}},{key:"updateSaturationBackground",value:function(o){var t=this.find(".color-picker-saturation .color-picker-overlay"),e=this.options.horizontal?"right":"bottom",i=this.getColorValue(this.options.dynamicSaturation),n=this.getColorValue(this.options.dynamicSaturation);i.s="100%",n.s="0%",t.css({background:"linear-gradient(to "+e+", "+h(i).toRgbString()+" 0%, "+h(n).toRgbString()+" 100%)"})}},{key:"lightnessPosUpdate",value:function(){var o;this.options.round||(o=angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker"))).css({top:this.pickerDimensions.width*this.lightnessPos/100+"px"}),o=angular.element(this.$element[0].querySelector(".color-picker-lightness .color-picker-slider")),this.options.horizontal?o.css({left:this.sliderDimensions.width*this.lightnessPos/100+"px",top:0}):o.css({left:0,top:this.sliderDimensions.height*this.lightnessPos/100+"px"})}},{key:"updateLightnessBackground",value:function(o){var t=this.find(".color-picker-lightness .color-picker-overlay"),e=this.options.horizontal?"right":"bottom",i=this.getColorValue(this.options.dynamicLightness),n=this.getColorValue(this.options.dynamicLightness),r=this.getColorValue(this.options.dynamicLightness);this.options.round?(i.l=100,n.l=50,r.l=0):(i.v=100,n.v=50,r.v=0),t.css({background:"linear-gradient(to "+e+", "+h(i).toRgbString()+" 0%, "+h(n).toRgbString()+" 50%, "+h(r).toRgbString()+" 100%)"})}},{key:"opacityPosUpdate",value:function(){var o=angular.element(this.$element[0].querySelector(".color-picker-opacity .color-picker-slider"));this.options.horizontal?o.css({left:this.sliderDimensions.width*this.opacityPos/100+"px",top:0}):o.css({left:0,top:this.sliderDimensions.height*this.opacityPos/100+"px"})}},{key:"updateOpacityBackground",value:function(o){var t=this.find(".color-picker-opacity .color-picker-overlay"),e=this.options.horizontal?"right":"bottom",i=this.getColorValue(this.options.dynamicAlpha),n=this.getColorValue(this.options.dynamicAlpha);i.a=1,n.a=0,t.css({background:"linear-gradient(to "+e+", "+h(i).toRgbString()+" 0%, "+h(n).toRgbString()+" 100%)"})}},{key:"colorChange",value:function(o){this.stopEvent(o);var t=this.find(".color-picker-grid-inner"),o=this.getEventPos(o),e=this.offset(t);this.options.round?this.colorChangeRound(t,e,o):this.colorChangeSquare(t,e,o)}},{key:"colorChangeRound",value:function(o,t,e){var i=2*(e.pageX-t.left)/o.prop("offsetWidth")-1,e=1-2*(e.pageY-t.top)/o.prop("offsetHeight"),t=Math.atan2(e,i),o=Math.round(57.29577951308233*t),t=(o<0&&(o+=360),this.hue=o,Math.sqrt(i*i+e*e));1<t?t=1:t<0&&(t=0),this.saturation=100*t,void 0===this.lightness&&(this.lightness=50)}},{key:"colorChangeSquare",value:function(o,t,e){this.saturation=(e.pageX-t.left)/o.prop("offsetWidth")*100,this.lightness=100*(1-(e.pageY-t.top)/o.prop("offsetHeight")),100<this.saturation?this.saturation=100:this.saturation<0&&(this.saturation=0),100<this.lightness?this.lightness=100:this.lightness<0&&(this.lightness=0)}},{key:"updateGridBackground",value:function(o){var t=this.find(".color-picker-grid .color-picker-overlay"),e=this.getColorValue();this.options.round?e.s="0%":(e.s="100%",e.v="100%",e.a=1),t.css({"background-color":h(e).toRgbString(),opacity:o.getAlpha()}),this.find(".color-picker-grid .color-picker-grid-inner").css({opacity:o.getAlpha()})}},{key:"updateSwatchBackground",value:function(){angular.element(this.$element[0].querySelector(".color-picker-swatch")).css({"background-color":this.swatchColor})}},{key:"isColorValid",value:function(o){var t=o.isValid();return t=(t=t&&this.options.restrictToFormat?o.getFormat()===this.getTinyColorFormat():t)||!this.options.allowEmpty||null!=(o=o.getOriginalInput())&&""!==o?t:!0}},{key:"getTinyColorFormat",value:function(){return"hexString"===this.options.format?"hex":"hex8String"===this.options.format?"hex8":this.options.format}},{key:"areAllValuesSet",value:function(){return void 0!==this.hue&&void 0!==this.saturation&&void 0!==this.lightness}},{key:"getColorValue",value:function(){var o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t={h:this.hue,s:o?this.saturation+"%":"100%",v:o?this.lightness+"%":"100%"};return this.options.round&&(t={h:this.hue,s:o?this.saturation+"%":"100%",l:o?this.lightness+"%":"50%"}),(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(t.a=o?this.opacity/100:1),t}},{key:"setColorValue",value:function(o){var t=!this.anyMouseEvents(),o=this.options.round?o.toHsl():o.toHsv();(t||this.hueMouse)&&(this.hue=o.h),(t||this.saturationMouse)&&(this.saturation=100*o.s),(t||this.lightnessMouse)&&(this.lightness=100*(this.options.round?o.l:o.v)),this.options.alpha&&(t||this.opacityMouse)&&(this.opacity=100*o.a)}},{key:"checkDirty",value:function(o){this.hasOwnProperty("initialNgModel")&&(o===this.initialNgModel?"function"==typeof this.$scope.control[0].$setPristine&&this.$scope.control[0].$setPristine():"function"==typeof this.$scope.control[0].$setDirty&&this.$scope.control[0].$setDirty())}},{key:"stopEvent",value:function(o){o.stopPropagation(),o.preventDefault()}},{key:"getRoundPos",value:function(){var o=.01745329251994*this.hue,t=Math.cos(o)*this.saturation,o=-Math.sin(o)*this.saturation,t=(this.xPos=.5*(100+t),this.yPos=.5*(100+o),Math.pow(50-this.xPos,2)+Math.pow(50-this.yPos,2));Math.pow(50,2)<t&&(o=Math.atan2(this.yPos-50,this.xPos-50),this.xPos=50*Math.cos(o)+50,this.yPos=50*Math.sin(o)+50)}},{key:"updateRoundPos",value:function(){angular.element(this.$element[0].querySelector(".color-picker-grid .color-picker-picker")).css({left:this.pickerDimensions.width*this.xPos/100+"px",top:this.pickerDimensions.height*this.yPos/100+"px"})}},{key:"getEventPos",value:function(o){if(0===o.type.search("touch")){if(o.originalEvent&&o.originalEvent.changedTouches)return o.originalEvent.changedTouches[0];if(o.changedTouches)return o.changedTouches[0]}return o}},{key:"calculateSliderPos",value:function(o,t,e){return this.options.horizontal?Math.round((1-(t.pageX-this.offset(o).left)/o.prop("offsetWidth"))*e):Math.round((1-(t.pageY-this.offset(o).top)/o.prop("offsetHeight"))*e)}},{key:"eventApiDispatch",value:function(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=o+"Listener";this[e]&&"function"==typeof this[e]&&(t.color=this.internalNgModel,t.api=this.api,this[o+"Listener"](t))}},{key:"find",value:function(o){var t,e=(this.wrapper||this.$element)[0],i=[];if(!o)return i;if("string"==typeof o){if(1!==(t=e.nodeType)&&9!==t)return[];i=e.querySelectorAll(o)}else e.contains(o)&&i.push(o);return angular.element(i)}},{key:"offset",value:function(o){var t,e,o=o[0];if(o)return o.getClientRects().length?(e=o.getBoundingClientRect()).width||e.height?(o=o.ownerDocument,t=this.getWindowElements(o),o=o.documentElement,this.chrome&&this.android_version<6&&screen.width<=768?{top:e.top-o.clientTop,left:e.left-o.clientLeft}:{top:e.top+t.pageYOffset-o.clientTop,left:e.left+t.pageXOffset-o.clientLeft}):e:{top:0,left:0}}},{key:"getWindowElements",value:function(o){return null!==o&&o===o.window?o:9===o.nodeType&&o.defaultView}},{key:"anyMouseEvents",value:function(){return this.colorMouse||this.hueMouse||this.saturationMouse||this.lightnessMouse||this.opacityMouse}},{key:"getMaxFromType",value:function(o){return"hue"===o?360:100}}]);var t=s;function s(o,t,e,i,n){r(this,s),this.$scope=o,this.$element=t,this.$document=e,this.$timeout=i,this.ColorPickerOptions=n,this.$scope.init=this.init.bind(this),this.ngModelOptions={},this.hue=0,this.saturation=void 0,this.lightness=void 0,this.opacity=void 0,this.basicEventTypes=["hue","saturation","lightness","opacity"],this.fullEventTypes=["color","hue","saturation","lightness","opacity"]}function e(o){o.put("template/color-picker/directive.html",'<div class="color-picker-wrapper" ng-class="{\'color-picker-disabled\': AngularColorPickerController.pickerDisabled,\'color-picker-swatch-only\': AngularColorPickerController.options.swatchOnly,\'color-picker-open\': AngularColorPickerController.is_open,\'color-picker-closed\': !AngularColorPickerController.is_open,\'color-picker-horizontal\': AngularColorPickerController.options.horizontal,}"><div class="color-picker-input-wrapper" ng-class="{\'input-group\': AngularColorPickerController.options.swatchBootstrap && AngularColorPickerController.options.swatch}"><span ng-if="AngularColorPickerController.options.swatchPos === \'left\'" class="color-picker-swatch" ng-click="AngularColorPickerController.onSwatchClick($event)" ng-show="AngularColorPickerController.options.swatch" ng-class="{\'color-picker-swatch-left\': AngularColorPickerController.options.swatchPos !== \'right\', \'color-picker-swatch-right\': AngularColorPickerController.options.swatchPos === \'right\', \'input-group-addon\': AngularColorPickerController.options.swatchBootstrap}"></span><input ng-attr-id="{{AngularColorPickerController.options.id}}" ng-attr-name="{{AngularColorPickerController.options.name}}" class="color-picker-input {{AngularColorPickerController.options.inputClass}}" type="text" ng-change="AngularColorPickerController.onInternalNgModelChange($event)" ng-model="AngularColorPickerController.internalNgModel" ng-model-options="AngularColorPickerController.ngModelOptions" ng-readonly="AngularColorPickerController.options.swatchOnly" ng-disabled="AngularColorPickerController.pickerDisabled" size="7" ng-class="{\'color-picker-input-swatch\': AngularColorPickerController.options.swatch && !AngularColorPickerController.options.swatchOnly && AngularColorPickerController.options.swatchPos === \'left\'}" placeholder="{{AngularColorPickerController.options.placeholder}}" ng-required="AngularColorPickerController.options.required"><span ng-if="AngularColorPickerController.options.swatchPos === \'right\'" class="color-picker-swatch" ng-click="AngularColorPickerController.onSwatchClick($event)" ng-show="AngularColorPickerController.options.swatch" ng-class="{\'color-picker-swatch-left\': AngularColorPickerController.options.swatchPos !== \'right\', \'color-picker-swatch-right\': AngularColorPickerController.options.swatchPos === \'right\', \'input-group-addon\': AngularColorPickerController.options.swatchBootstrap}"></span></div><div class="color-picker-panel" ng-class="{\'color-picker-panel-top color-picker-panel-right\': AngularColorPickerController.options.pos === \'top right\',\'color-picker-panel-top color-picker-panel-left\': AngularColorPickerController.options.pos === \'top left\',\'color-picker-panel-bottom color-picker-panel-right\': AngularColorPickerController.options.pos === \'bottom right\',\'color-picker-panel-bottom color-picker-panel-left\': AngularColorPickerController.options.pos === \'bottom left\',\'color-picker-panel-round\': AngularColorPickerController.options.round,\'color-picker-show-hue\': AngularColorPickerController.options.hue,\'color-picker-show-saturation\': AngularColorPickerController.options.saturation,\'color-picker-show-lightness\': AngularColorPickerController.options.lightness,\'color-picker-show-alpha\': AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== \'hex\',\'color-picker-show-inline\': AngularColorPickerController.options.inline,}"><div class="color-picker-grid-wrapper"><div class="color-picker-row"><div class="color-picker-grid"><div class="color-picker-overlay"></div><div class="color-picker-grid-inner"></div><div class="color-picker-picker"><div></div></div></div><div class="color-picker-hue" ng-show="AngularColorPickerController.options.hue"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-saturation" ng-show="AngularColorPickerController.options.saturation"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-lightness" ng-show="AngularColorPickerController.options.lightness"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div><div class="color-picker-opacity" ng-show="AngularColorPickerController.options.alpha && AngularColorPickerController.options.format !== \'hex\'"><div class="color-picker-overlay"></div><div class="color-picker-slider"></div></div></div></div><div class="color-picker-actions"><button type="button"class="color-picker-action color-picker-action-clear"tabindex="-1"ng-class="AngularColorPickerController.options.clear.class"ng-show="AngularColorPickerController.options.clear.show"ng-click="AngularColorPickerController.api.clear($event)">{{AngularColorPickerController.options.clear.label}}</button><button type="button"class="color-picker-action color-picker-action-reset"tabindex="-1"ng-class="AngularColorPickerController.options.reset.class"ng-show="AngularColorPickerController.options.reset.show"ng-click="AngularColorPickerController.api.reset($event)">{{AngularColorPickerController.options.reset.label}}</button><button type="button"class="color-picker-action color-picker-action-close"tabindex="-1"ng-class="AngularColorPickerController.options.close.class"ng-show="AngularColorPickerController.options.close.show"ng-click="AngularColorPickerController.api.close($event)">{{AngularColorPickerController.options.close.label}}</button></div></div></div>')}t.$inject=["$scope","$element","$document","$timeout","ColorPickerOptions"],e.$inject=["$templateCache"];function l(){return r(this,l),{id:void 0,name:void 0,required:!1,disabled:!1,placeholder:"",inputClass:"",restrictToFormat:!1,preserveInputFormat:!1,allowEmpty:!1,format:"hsl",case:"upper",hue:!0,saturation:!1,lightness:!1,alpha:!0,dynamicHue:!0,dynamicSaturation:!0,dynamicLightness:!0,dynamicAlpha:!0,round:!1,pos:"bottom left",inline:!1,horizontal:!1,swatch:!0,swatchOnly:!1,swatchPos:"left",swatchBootstrap:!0,show:{swatch:!0,focus:!0},hide:{blur:!0,escape:!0,click:!0},close:{show:!1,label:"Close",class:""},clear:{show:!1,label:"Clear",class:""},reset:{show:!1,label:"Reset",class:""}}}return angular.module("color.picker",[]).service("ColorPickerOptions",l).directive("colorPicker",function(){return{restrict:"E",require:["^ngModel"],scope:{ngModel:"=",options:"<?",api:"=?",pickerDisabled:"<?",onChangeListener:"&onChange",onBlurListener:"&onBlur",onOpenListener:"&onOpen",onCloseListener:"&onClose",onClearListener:"&onClear",onDestroyListener:"&onDestroy",onResetListener:"&onReset"},bindToController:!0,templateUrl:"template/color-picker/directive.html",controller:t,controllerAs:"AngularColorPickerController",link:function(o,t,e,i){o.control=i,o.init()}}}).run(e)});
